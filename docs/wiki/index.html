<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#181818">
  <title>
    
    (λ jpachecoxyz) - Wiki
    
  </title>
  
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  
  
  
  <link rel="stylesheet" href="/minima.54cfcb44e10b4015b41a13771763013b79bdba6a92e49ea4a77bb44db465e761.css" integrity="sha256-VM/LROELQBW0GhN3F2MBO3m9umqS5J6kp3u0TbRl52E=">
  
  
  
  <script defer type="text/javascript" src="/minima.c1f5b8aa64e8321bb391ecac878965aed0ecd786b763e1fc0f136ef263bd2b47.js" integrity="sha256-wfW4qmToMhuzkeysh4llrtDs14a3Y&#43;H8DxNu8mO9K0c="></script>
  
  
  
</head>
<script>
  const theme_config = 'dark'
  const theme_light = theme_config === 'system' ? 'light' : theme_config;
  let theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : theme_light;
  console.debug(theme);

  try {
    localStorage.setItem('theme', theme);
    window.minima_theme = theme;
    document.querySelector('html').classList.add(theme);
  } catch (e) {
    console.error(e);
  }
</script>



<body>
  <header class="mt-3 mb-8">
  <div class="container mx-auto">
    <nav class="flex justify-between items-center">
      <div class="flex items-center">
        
        <div id="theme-switch" class="text-2xl cursor-pointer"></div>
      </div>
      <ul class="flex items-center text-base font-semibold
        whitespace-nowrap overflow-x-auto overflow-y-hidden">
        
        <li class="ml-2 mr-2">
          
          <a href='/'>Home</a>
          
        </li>
        
        <li class="ml-2 mr-2">
          
          <a href="/about">About</a>
          
        </li>
        
        <li class="ml-2 mr-2">
          
          <a href="/posts">Posts</a>
          
        </li>
        
        <li class="ml-2 mr-2">
          
          <a href="/wiki">Wiki</a>
          
        </li>
        
        <li class="ml-2 mr-2">
          
          <a href="/search">Search</a>
          
        </li>
        
      </ul>
      
    </nav>
  </div>
</header>


  
<div class="container mx-auto">
  <h1 class="text-4xl font-extrabold mt-6 mb-6">Wiki</h1>
  <div class="mb-3 text-sm flex justify-between ">
    <div>
      
      Post at &mdash; Sep 03, 2024
      
      
    </div>
    
    <div>
      
      
      <a class="ml-1" href="/tags/wiki">#wiki</a>
      
      
      <a class="ml-1" href="/tags/personal">#personal</a>
      
    </div>
    
  </div>
  <main class="mb-8">
    <p>My personal wiki for some topics.</p>
    <article class="md">
      <h2 id="emacs">Emacs</h2>
<h3 id="doom-insert-item-dot">Doom Insert item.</h3>
<p>This script wast taken from <em>doomemacs</em>, it basically insert a item such a heading, subheading, checkbox, etc. based on the item above.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="c1">;;; javier_pacheco utilities.el --- Some useful utilities  -*- lexical-binding: t; -*-</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">+org--insert-item</span> <span class="p">(</span><span class="nv">direction</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">context</span> <span class="p">(</span><span class="nv">org-element-lineage</span>
</span></span><span class="line"><span class="cl">                  <span class="p">(</span><span class="nv">org-element-context</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                  <span class="o">&#39;</span><span class="p">(</span><span class="nv">table</span> <span class="nv">table-row</span> <span class="nv">headline</span> <span class="nv">inlinetask</span> <span class="nv">item</span> <span class="nv">plain-list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                  <span class="no">t</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">pcase</span> <span class="p">(</span><span class="nv">org-element-type</span> <span class="nv">context</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;; Add a new list item (carrying over checkboxes if necessary)</span>
</span></span><span class="line"><span class="cl">      <span class="p">((</span><span class="nb">or</span> <span class="o">`</span><span class="nv">item</span> <span class="o">`</span><span class="nv">plain-list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">orig-point</span> <span class="p">(</span><span class="nf">point</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">         <span class="c1">;; Position determines where org-insert-todo-heading and `org-insert-item&#39;</span>
</span></span><span class="line"><span class="cl">         <span class="c1">;; insert the new list item.</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">eq</span> <span class="nv">direction</span> <span class="ss">&#39;above</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">             <span class="p">(</span><span class="nv">org-beginning-of-item</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nf">end-of-line</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nb">let*</span> <span class="p">((</span><span class="nv">ctx-item?</span> <span class="p">(</span><span class="nf">eq</span> <span class="ss">&#39;item</span> <span class="p">(</span><span class="nv">org-element-type</span> <span class="nv">context</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="nv">ctx-cb</span> <span class="p">(</span><span class="nv">org-element-property</span> <span class="nb">:contents-begin</span> <span class="nv">context</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="c1">;; Hack to handle edge case where the point is at the</span>
</span></span><span class="line"><span class="cl">                <span class="c1">;; beginning of the first item</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="nv">beginning-of-list?</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">not</span> <span class="nv">ctx-item?</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                         <span class="p">(</span><span class="nf">=</span> <span class="nv">ctx-cb</span> <span class="nv">orig-point</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="nv">item-context</span> <span class="p">(</span><span class="nb">if</span> <span class="nv">beginning-of-list?</span>
</span></span><span class="line"><span class="cl">                                  <span class="p">(</span><span class="nv">org-element-context</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                <span class="nv">context</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="c1">;; Horrible hack to handle edge case where the</span>
</span></span><span class="line"><span class="cl">                <span class="c1">;; line of the bullet is empty</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="nv">ictx-cb</span> <span class="p">(</span><span class="nv">org-element-property</span> <span class="nb">:contents-begin</span> <span class="nv">item-context</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="nv">empty?</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nf">eq</span> <span class="nv">direction</span> <span class="ss">&#39;below</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                             <span class="c1">;; in case contents-begin is nil, or contents-begin</span>
</span></span><span class="line"><span class="cl">                             <span class="c1">;; equals the position end of the line, the item is</span>
</span></span><span class="line"><span class="cl">                             <span class="c1">;; empty</span>
</span></span><span class="line"><span class="cl">                             <span class="p">(</span><span class="nb">or</span> <span class="p">(</span><span class="nv">not</span> <span class="nv">ictx-cb</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                 <span class="p">(</span><span class="nf">=</span> <span class="nv">ictx-cb</span>
</span></span><span class="line"><span class="cl">                                    <span class="p">(</span><span class="nf">1+</span> <span class="p">(</span><span class="nf">point</span><span class="p">))))))</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="nv">pre-insert-point</span> <span class="p">(</span><span class="nf">point</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">           <span class="c1">;; Insert dummy content, so that `org-insert-item&#39;</span>
</span></span><span class="line"><span class="cl">           <span class="c1">;; inserts content below this item</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nb">when</span> <span class="nv">empty?</span>
</span></span><span class="line"><span class="cl">             <span class="p">(</span><span class="nf">insert</span> <span class="s">&#34; &#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nv">org-insert-item</span> <span class="p">(</span><span class="nv">org-element-property</span> <span class="nb">:checkbox</span> <span class="nv">context</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">           <span class="c1">;; Remove dummy content</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nb">when</span> <span class="nv">empty?</span>
</span></span><span class="line"><span class="cl">             <span class="p">(</span><span class="nf">delete-region</span> <span class="nv">pre-insert-point</span> <span class="p">(</span><span class="nf">1+</span> <span class="nv">pre-insert-point</span><span class="p">))))))</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;; Add a new table row</span>
</span></span><span class="line"><span class="cl">      <span class="p">((</span><span class="nb">or</span> <span class="o">`</span><span class="nv">table</span> <span class="o">`</span><span class="nv">table-row</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">pcase</span> <span class="nv">direction</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="ss">&#39;below</span> <span class="p">(</span><span class="nb">save-excursion</span> <span class="p">(</span><span class="nv">org-table-insert-row</span> <span class="no">t</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                 <span class="p">(</span><span class="nv">org-table-next-row</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="ss">&#39;above</span> <span class="p">(</span><span class="nb">save-excursion</span> <span class="p">(</span><span class="nv">org-shiftmetadown</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                 <span class="p">(</span><span class="nv">+org/table-previous-row</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">;; Otherwise, add a new heading, carrying over any todo state, if</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;; necessary.</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">_</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">level</span> <span class="p">(</span><span class="nb">or</span> <span class="p">(</span><span class="nv">org-current-level</span><span class="p">)</span> <span class="mi">1</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">         <span class="c1">;; I intentionally avoid `org-insert-heading&#39; and the like because they</span>
</span></span><span class="line"><span class="cl">         <span class="c1">;; impose unpredictable whitespace rules depending on the cursor</span>
</span></span><span class="line"><span class="cl">         <span class="c1">;; position. It&#39;s simpler to express this command&#39;s responsibility at a</span>
</span></span><span class="line"><span class="cl">         <span class="c1">;; lower level than work around all the quirks in org&#39;s API.</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nb">pcase</span> <span class="nv">direction</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="o">`</span><span class="nv">below</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nb">let</span> <span class="p">(</span><span class="nv">org-insert-heading-respect-content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">line-end-position</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nv">org-end-of-subtree</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nf">insert</span> <span class="s">&#34;\n&#34;</span> <span class="p">(</span><span class="nf">make-string</span> <span class="nv">level</span> <span class="sc">?*</span><span class="p">)</span> <span class="s">&#34; &#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="o">`</span><span class="nv">above</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nv">org-back-to-heading</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nf">insert</span> <span class="p">(</span><span class="nf">make-string</span> <span class="nv">level</span> <span class="sc">?*</span><span class="p">)</span> <span class="s">&#34; &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nb">save-excursion</span> <span class="p">(</span><span class="nf">insert</span> <span class="s">&#34;\n&#34;</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nf">run-hooks</span> <span class="ss">&#39;org-insert-heading-hook</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nv">when-let*</span> <span class="p">((</span><span class="nv">todo-keyword</span> <span class="p">(</span><span class="nv">org-element-property</span> <span class="nb">:todo-keyword</span> <span class="nv">context</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                     <span class="p">(</span><span class="nv">todo-type</span>    <span class="p">(</span><span class="nv">org-element-property</span> <span class="nb">:todo-type</span> <span class="nv">context</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nv">org-todo</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nb">cond</span> <span class="p">((</span><span class="nf">eq</span> <span class="nv">todo-type</span> <span class="ss">&#39;done</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                   <span class="c1">;; Doesn&#39;t make sense to create more &#34;DONE&#34; headings</span>
</span></span><span class="line"><span class="cl">                   <span class="p">(</span><span class="nf">car</span> <span class="p">(</span><span class="nv">+org-get-todo-keywords-for</span> <span class="nv">todo-keyword</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                  <span class="p">(</span><span class="nv">todo-keyword</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                  <span class="p">(</span><span class="ss">&#39;todo</span><span class="p">)))))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">org-invisible-p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">org-show-hidden-entry</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">bound-and-true-p</span> <span class="nv">evil-local-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">               <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nv">evil-emacs-state-p</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">evil-insert</span> <span class="mi">1</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;;###autoload</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">+org/insert-item-below</span> <span class="p">(</span><span class="nv">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Inserts a new heading, table cell or item below the current one.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span> <span class="s">&#34;p&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">dotimes</span> <span class="p">(</span><span class="nv">_</span> <span class="nv">count</span><span class="p">)</span> <span class="p">(</span><span class="nv">+org--insert-item</span> <span class="ss">&#39;below</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;;###autoload</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">+org/insert-item-above</span> <span class="p">(</span><span class="nv">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Inserts a new heading, table cell or item above the current one.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span> <span class="s">&#34;p&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">dotimes</span> <span class="p">(</span><span class="nv">_</span> <span class="nv">count</span><span class="p">)</span> <span class="p">(</span><span class="nv">+org--insert-item</span> <span class="ss">&#39;above</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">org-make-olist</span> <span class="p">(</span><span class="nv">arg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span> <span class="s">&#34;P&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">n</span> <span class="p">(</span><span class="nb">or</span> <span class="nv">arg</span> <span class="mi">1</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">region-active-p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq</span> <span class="nv">n</span> <span class="p">(</span><span class="nv">count-lines</span> <span class="p">(</span><span class="nf">region-beginning</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                           <span class="p">(</span><span class="nf">region-end</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">region-beginning</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">dotimes</span> <span class="p">(</span><span class="nv">i</span> <span class="nv">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">beginning-of-line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">insert</span> <span class="p">(</span><span class="nf">concat</span> <span class="p">(</span><span class="nf">number-to-string</span> <span class="p">(</span><span class="nf">1+</span> <span class="nv">i</span><span class="p">))</span> <span class="s">&#34;. &#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">forward-line</span><span class="p">))))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="highlight-yanked-text">Highlight yanked text</h3>
<p>This function describes itself so&hellip;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">meain/evil-yank-advice</span> <span class="p">(</span><span class="nv">orig-fn</span> <span class="nv">beg</span> <span class="nv">end</span> <span class="kp">&amp;rest</span> <span class="nv">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">pulse-momentary-highlight-region</span> <span class="nv">beg</span> <span class="nv">end</span> <span class="ss">&#39;mode-line-active</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">apply</span> <span class="nv">orig-fn</span> <span class="nv">beg</span> <span class="nv">end</span> <span class="nv">args</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">advice-add</span> <span class="ss">&#39;evil-yank</span> <span class="nb">:around</span> <span class="ss">&#39;meain/evil-yank-advice</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="replace-with-dot">Replace &lsquo;-&rsquo; with &lsquo;•&rsquo;.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">jp/org-font-setup</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="c1">;; Replace list hyphen with dot</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">font-lock-add-keywords</span> <span class="ss">&#39;org-mode</span>
</span></span><span class="line"><span class="cl">                          <span class="o">&#39;</span><span class="p">((</span><span class="s">&#34;^ *\\([-]\\) &#34;</span>
</span></span><span class="line"><span class="cl">                             <span class="p">(</span><span class="mi">0</span> <span class="p">(</span><span class="nb">prog1</span> <span class="p">()</span> <span class="p">(</span><span class="nv">compose-region</span> <span class="p">(</span><span class="nf">match-beginning</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nf">match-end</span> <span class="mi">1</span><span class="p">)</span> <span class="s">&#34;•&#34;</span><span class="p">)))))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">jp/org-font-setup</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="custom-id-dot">Custom_id.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;;;; org-id</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">declare-function</span> <span class="nv">org-id-add-location</span> <span class="s">&#34;org&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">declare-function</span> <span class="nv">org-with-point-at</span> <span class="s">&#34;org&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">declare-function</span> <span class="nv">org-entry-get</span> <span class="s">&#34;org&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">declare-function</span> <span class="nv">org-id-new</span> <span class="s">&#34;org&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">declare-function</span> <span class="nv">org-entry-put</span> <span class="s">&#34;org&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Copied from this article (with minor tweaks from my side):</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; https://writequit.org/articles/emacs-org-mode-generate-ids.html.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">jp/org--id-get</span> <span class="p">(</span><span class="kp">&amp;optional</span> <span class="nv">pom</span> <span class="nv">create</span> <span class="nv">prefix</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Get the CUSTOM_ID property of the entry at point-or-marker POM.
</span></span></span><span class="line"><span class="cl"><span class="s">If POM is nil, refer to the entry at point.  If the entry does
</span></span></span><span class="line"><span class="cl"><span class="s">not have an CUSTOM_ID, the function returns nil.  However, when
</span></span></span><span class="line"><span class="cl"><span class="s">CREATE is non nil, create a CUSTOM_ID if none is present already.
</span></span></span><span class="line"><span class="cl"><span class="s">PREFIX will be passed through to </span><span class="ss">`org-id-new&#39;</span><span class="s">.  In any case, the
</span></span></span><span class="line"><span class="cl"><span class="s">CUSTOM_ID of the entry is returned.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">org-with-point-at</span> <span class="nv">pom</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">id</span> <span class="p">(</span><span class="nv">org-entry-get</span> <span class="no">nil</span> <span class="s">&#34;CUSTOM_ID&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">cond</span>
</span></span><span class="line"><span class="cl">       <span class="p">((</span><span class="nb">and</span> <span class="nv">id</span> <span class="p">(</span><span class="nf">stringp</span> <span class="nv">id</span><span class="p">)</span> <span class="p">(</span><span class="nf">string-match</span> <span class="nv">\\S-</span> <span class="nv">id</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="nv">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nv">create</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">setq</span> <span class="nv">id</span> <span class="p">(</span><span class="nv">org-id-new</span> <span class="p">(</span><span class="nf">concat</span> <span class="nv">prefix</span> <span class="s">&#34;h&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">org-entry-put</span> <span class="nv">pom</span> <span class="s">&#34;CUSTOM_ID&#34;</span> <span class="nv">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">org-id-add-location</span> <span class="nv">id</span> <span class="p">(</span><span class="nf">format</span> <span class="s">&#34;%s&#34;</span> <span class="p">(</span><span class="nf">buffer-file-name</span> <span class="p">(</span><span class="nf">buffer-base-buffer</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">        <span class="nv">id</span><span class="p">)))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">declare-function</span> <span class="nv">org-map-entries</span> <span class="s">&#34;org&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;;###autoload</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">jp/org-id-headlines</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Add missing CUSTOM_ID to all headlines in current file.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">org-map-entries</span>
</span></span><span class="line"><span class="cl">   <span class="p">(</span><span class="nb">lambda</span> <span class="p">()</span> <span class="p">(</span><span class="nv">jp/org--id-get</span> <span class="p">(</span><span class="nf">point</span><span class="p">)</span> <span class="no">t</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;;###autoload</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">jp/org-id-headline</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Add missing CUSTOM_ID to headline at point.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">jp/org--id-get</span> <span class="p">(</span><span class="nf">point</span><span class="p">)</span> <span class="no">t</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="add-id-s-to-headers-org-roam-dot">Add ID&rsquo;s to headers - Org roam.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">jp/org-id-store-link-for-headers</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Run </span><span class="ss">`org-id-store-link&#39;</span><span class="s"> for each header in the current buffer.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">save-excursion</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-min</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">while</span> <span class="p">(</span><span class="nf">re-search-forward</span> <span class="nv">org-heading-regexp</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">org-id-store-link</span><span class="p">))))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="toggle-org-emphasis-markers">Toggle org-emphasis-markers</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">jp/org-toggle-emphasis-markers</span> <span class="p">(</span><span class="kp">&amp;optional</span> <span class="nv">arg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Toggle emphasis markers and display a message.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span> <span class="s">&#34;p&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">markers</span> <span class="nv">org-hide-emphasis-markers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">msg</span> <span class="s">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">when</span> <span class="nv">markers</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq-local</span> <span class="nv">org-hide-emphasis-markers</span> <span class="no">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq</span> <span class="nv">msg</span> <span class="s">&#34;Emphasis markers are now visible.&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">unless</span> <span class="nv">markers</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq-local</span> <span class="nv">org-hide-emphasis-markers</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq</span> <span class="nv">msg</span> <span class="s">&#34;Emphasis markers are now hidden.&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;%s&#34;</span> <span class="nv">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">when</span> <span class="nv">arg</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">font-lock-fontify-buffer</span><span class="p">))))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="insert-org-s-files-to-outlook-dot">Insert Org&rsquo;s files to Outlook.</h3>
<h4 id="export-file-to-clipboard-dot">Export file to clipboard.</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">export-org-email</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Export the current email org buffer and copy it to the
</span></span></span><span class="line"><span class="cl"><span class="s">clipboard&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">org-export-show-temporary-export-buffer</span> <span class="no">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">org-html-head</span> <span class="p">(</span><span class="nv">org-email-html-head</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">org-html-export-as-html</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">with-current-buffer</span> <span class="s">&#34;*Org HTML Export*&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">kill-new</span> <span class="p">(</span><span class="nf">buffer-string</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;HTML copied to clipboard&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;C-c C-x C-e&#34;</span><span class="p">)</span> <span class="ss">&#39;export-org-email</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="add-some-css-to-the-file-dot">Add some CSS to the file.</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">org-email-html-head</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Create the header with CSS for use with email&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">concat</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;&lt;style type=\&#34;text/css\&#34;&gt;\n&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;&lt;!--/*--&gt;&lt;![CDATA[/*&gt;&lt;!--*/\n&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="p">(</span><span class="nb">with-temp-buffer</span>
</span></span><span class="line"><span class="cl">     <span class="p">(</span><span class="nf">insert-file-contents</span>
</span></span><span class="line"><span class="cl">      <span class="s">&#34;~/.emacs.d/src/css/org2outlook.css&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">(</span><span class="nf">buffer-string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;/*]]&gt;*/--&gt;\n&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="s">&#34;&lt;/style&gt;\n&#34;</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="org-todo-auto-update-dot">Org TODO auto update.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">org-todo-if-needed</span> <span class="p">(</span><span class="nv">state</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Change header state to STATE unless the current item is in STATE already.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nf">string-equal</span> <span class="p">(</span><span class="nv">org-get-todo-state</span><span class="p">)</span> <span class="nv">state</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">org-todo</span> <span class="nv">state</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">ct/org-summary-todo-cookie</span> <span class="p">(</span><span class="nv">n-done</span> <span class="nv">n-not-done</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Switch header state to DONE when all subentries are DONE, to TODO when none are DONE, and to DOING otherwise&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">(</span><span class="nv">org-log-done</span> <span class="nv">org-log-states</span><span class="p">)</span>   <span class="c1">; turn off logging</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">org-todo-if-needed</span> <span class="p">(</span><span class="nb">cond</span> <span class="p">((</span><span class="nf">=</span> <span class="nv">n-done</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                               <span class="s">&#34;TODO&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                              <span class="p">((</span><span class="nf">=</span> <span class="nv">n-not-done</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                               <span class="s">&#34;DONE&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                              <span class="p">(</span><span class="no">t</span>
</span></span><span class="line"><span class="cl">                               <span class="s">&#34;DOING&#34;</span><span class="p">)))))</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;org-after-todo-statistics-hook</span> <span class="nf">#&#39;</span><span class="nv">ct/org-summary-todo-cookie</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">ct/org-summary-checkbox-cookie</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Switch header state to DONE when all checkboxes are ticked, to TODO when none are ticked, and to DOING otherwise&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">(</span><span class="nv">beg</span> <span class="nv">end</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nv">org-get-todo-state</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">save-excursion</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">org-back-to-heading</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">setq</span> <span class="nv">beg</span> <span class="p">(</span><span class="nf">point</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nf">end-of-line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">setq</span> <span class="nv">end</span> <span class="p">(</span><span class="nf">point</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nf">goto-char</span> <span class="nv">beg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">;; Regex group 1: %-based cookie</span>
</span></span><span class="line"><span class="cl">        <span class="c1">;; Regex group 2 and 3: x/y cookie</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">re-search-forward</span> <span class="s">&#34;\\[\\([0-9]*%\\)\\]\\|\\[\\([0-9]*\\)/\\([0-9]*\\)\\]&#34;</span>
</span></span><span class="line"><span class="cl">                               <span class="nv">end</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">match-end</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="c1">;; [xx%] cookie support</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="nb">cond</span> <span class="p">((</span><span class="nf">equal</span> <span class="p">(</span><span class="nv">match-string</span> <span class="mi">1</span><span class="p">)</span> <span class="s">&#34;100%&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                       <span class="p">(</span><span class="nv">org-todo-if-needed</span> <span class="s">&#34;DONE&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                      <span class="p">((</span><span class="nf">equal</span> <span class="p">(</span><span class="nv">match-string</span> <span class="mi">1</span><span class="p">)</span> <span class="s">&#34;0%&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                       <span class="p">(</span><span class="nv">org-todo-if-needed</span> <span class="s">&#34;TODO&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="no">t</span>
</span></span><span class="line"><span class="cl">                       <span class="p">(</span><span class="nv">org-todo-if-needed</span> <span class="s">&#34;DOING&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">              <span class="c1">;; [x/y] cookie support</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">&gt;</span> <span class="p">(</span><span class="nf">match-end</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nf">match-beginning</span> <span class="mi">2</span><span class="p">))</span> <span class="c1">; = if not empty</span>
</span></span><span class="line"><span class="cl">                  <span class="p">(</span><span class="nb">cond</span> <span class="p">((</span><span class="nf">equal</span> <span class="p">(</span><span class="nv">match-string</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nv">match-string</span> <span class="mi">3</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                         <span class="p">(</span><span class="nv">org-todo-if-needed</span> <span class="s">&#34;DONE&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                        <span class="p">((</span><span class="nb">or</span> <span class="p">(</span><span class="nf">equal</span> <span class="p">(</span><span class="nv">string-trim</span> <span class="p">(</span><span class="nv">match-string</span> <span class="mi">2</span><span class="p">))</span> <span class="s">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                             <span class="p">(</span><span class="nf">equal</span> <span class="p">(</span><span class="nv">match-string</span> <span class="mi">2</span><span class="p">)</span> <span class="s">&#34;0&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                         <span class="p">(</span><span class="nv">org-todo-if-needed</span> <span class="s">&#34;TODO&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                        <span class="p">(</span><span class="no">t</span>
</span></span><span class="line"><span class="cl">                         <span class="p">(</span><span class="nv">org-todo-if-needed</span> <span class="s">&#34;DOING&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                <span class="p">(</span><span class="nv">org-todo-if-needed</span> <span class="s">&#34;DOING&#34;</span><span class="p">))))))))</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;org-checkbox-statistics-hook</span> <span class="nf">#&#39;</span><span class="nv">ct/org-summary-checkbox-cookie</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="org-buffer-scratchpad-dot">Org-buffer-scratchpad.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">new-scratch-pad</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Create a new org-mode buffer for random stuff.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">buffer</span> <span class="p">(</span><span class="nv">generate-new-buffer</span> <span class="s">&#34;Org-scratch-buffer&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">switch-to-buffer</span> <span class="nv">buffer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">setq</span> <span class="nv">buffer-offer-save</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">org-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">olivetti-mode</span> <span class="no">t</span><span class="p">))))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="toggle-buffers-dot">Toggle buffers.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="c1">;; Toggle *scratch* buffer.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">toggle-scratch-buffer</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Toggle the *scratch* buffer&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nv">string=</span> <span class="p">(</span><span class="nf">buffer-name</span><span class="p">)</span> <span class="s">&#34;*scratch*&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">bury-buffer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">switch-to-buffer</span> <span class="p">(</span><span class="nf">get-buffer-create</span> <span class="s">&#34;*scratch*&#34;</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">toggle-org-buffer</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Toggle the Org-scratch-buffer buffer&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">equal</span> <span class="p">(</span><span class="nf">buffer-name</span> <span class="p">(</span><span class="nf">current-buffer</span><span class="p">))</span> <span class="s">&#34;Org-scratch-buffer&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nv">one-window-p</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">switch-to-buffer</span> <span class="p">(</span><span class="nf">other-buffer</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">delete-window</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">get-buffer</span> <span class="s">&#34;Org-scratch-buffer&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">get-buffer-window</span> <span class="s">&#34;Org-scratch-buffer&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nb">progn</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nv">bury-buffer</span> <span class="s">&#34;Org-scratch-buffer&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">              <span class="p">(</span><span class="nv">delete-window</span> <span class="p">(</span><span class="nf">get-buffer-window</span> <span class="s">&#34;Org-scratch-buffer&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">switch-to-buffer</span> <span class="s">&#34;Org-scratch-buffer&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">new-scratch-pad</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Toggle *eshell* buffer.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">toggle-eshell-buffer</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Toggle the *eshell* buffer&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nv">string=</span> <span class="p">(</span><span class="nf">buffer-name</span><span class="p">)</span> <span class="s">&#34;*eshell*&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">bury-buffer</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">switch-to-buffer</span> <span class="p">(</span><span class="nf">get-buffer-create</span> <span class="s">&#34;*eshell*&#34;</span><span class="p">))))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="doc-at-point-dot">Doc at point.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">my-show-doc-or-describe-symbol</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Show LSP UI doc if LSP is active, otherwise describe symbol at point.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nv">bound-and-true-p</span> <span class="nv">lsp-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">lsp-ui-doc-glance</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">describe-symbol-at-point</span><span class="p">)))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="duplicate-and-move-up-down-lines-dot">Duplicate &amp; move up/down lines.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">duplicate-line</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">line-text</span> <span class="p">(</span><span class="nv">thing-at-point</span> <span class="ss">&#39;line</span> <span class="no">t</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">save-excursion</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">move-end-of-line</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">newline</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">insert</span> <span class="nv">line-text</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">forward-line</span> <span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">move-line-up</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nf">=</span> <span class="p">(</span><span class="nv">line-number-at-pos</span><span class="p">)</span> <span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">transpose-lines</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nf">forward-line</span> <span class="mi">-2</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">move-line-down</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">forward-line</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nf">=</span> <span class="p">(</span><span class="nv">line-number-at-pos</span><span class="p">)</span> <span class="p">(</span><span class="nf">point-max</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">transpose-lines</span> <span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">forward-line</span> <span class="mi">-1</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="hide-passwords-in-org-files-dot">Hide passwords in org files.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="c1">;; Define a custom face for the highlight</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defface</span> <span class="nv">my-highlight-face</span>
</span></span><span class="line"><span class="cl">  <span class="o">&#39;</span><span class="p">((</span><span class="no">t</span> <span class="p">(</span><span class="nb">:foreground</span> <span class="s">&#34;gray&#34;</span><span class="p">)))</span> <span class="c1">; Change &#34;red&#34; to your desired color</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Face for highlighting !!word!! patterns.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Function to replace matched text with asterisks</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">replace-with-asterisks</span> <span class="p">(</span><span class="nv">limit</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Replace !!word!! with asterisks up to LIMIT.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">while</span> <span class="p">(</span><span class="nf">re-search-forward</span> <span class="s">&#34;!!\\(.*?\\)!!&#34;</span> <span class="nv">limit</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">let*</span> <span class="p">((</span><span class="nv">match</span> <span class="p">(</span><span class="nv">match-string</span> <span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nv">start</span> <span class="p">(</span><span class="nf">match-beginning</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nv">end</span> <span class="p">(</span><span class="nf">match-end</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nv">asterisks</span> <span class="p">(</span><span class="nf">make-string</span> <span class="p">(</span><span class="nf">length</span> <span class="nv">match</span><span class="p">)</span> <span class="sc">?*</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">add-text-properties</span> <span class="nv">start</span> <span class="nv">end</span> <span class="o">`</span><span class="p">(</span><span class="nv">display</span> <span class="o">,</span><span class="nv">asterisks</span> <span class="nv">face</span> <span class="nv">my-highlight-face</span><span class="p">)))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Add custom keyword for font-lock in org-mode</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">my/org-mode-custom-font-lock</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Add custom font-lock keywords for org-mode.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">font-lock-add-keywords</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">                          <span class="o">&#39;</span><span class="p">((</span><span class="nv">replace-with-asterisks</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Hook the custom font-lock configuration into org-mode</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;org-mode-hook</span> <span class="ss">&#39;my/org-mode-custom-font-lock</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="help-at-point-dot">Help at point.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">describe-symbol-at-point</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Display the documentation of the symbol at point, if it exists.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">symbol</span> <span class="p">(</span><span class="nv">symbol-at-point</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">if</span> <span class="nv">symbol</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">cond</span>
</span></span><span class="line"><span class="cl">         <span class="p">((</span><span class="nf">fboundp</span> <span class="nv">symbol</span><span class="p">)</span> <span class="p">(</span><span class="nv">describe-function</span> <span class="nv">symbol</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">((</span><span class="nf">boundp</span> <span class="nv">symbol</span><span class="p">)</span> <span class="p">(</span><span class="nv">describe-variable</span> <span class="nv">symbol</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="no">t</span> <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;No documentation found for symbol at point: %s&#34;</span> <span class="nv">symbol</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;No symbol at point&#34;</span><span class="p">))))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="fz-themes">fz-themes</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">custom-jp-themes</span> <span class="p">(</span><span class="kp">&amp;optional</span> <span class="nv">theme-dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">defun</span> <span class="nv">custom-jp-themes</span> <span class="p">(</span><span class="kp">&amp;optional</span> <span class="nv">theme-dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Return a list of custom themes from a specified directory.
</span></span></span><span class="line"><span class="cl"><span class="s">Search the directory for files named FOO-theme.el, and return a list of FOO symbols,
</span></span></span><span class="line"><span class="cl"><span class="s">excluding the &#39;default&#39; theme and any internal themes.
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">If THEME-DIR is nil, it defaults to </span><span class="ss">`~/.emacs.d/lisp/jp-themes/&#39;</span><span class="s">.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">suffix</span> <span class="s">&#34;-theme\\.el\\&#39;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">directory</span> <span class="p">(</span><span class="nb">or</span> <span class="nv">theme-dir</span> <span class="s">&#34;~/.emacs.d/lisp/jp-themes/&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">          <span class="nv">themes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;; Ensure the directory exists</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nf">file-directory-p</span> <span class="nv">directory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">;; Iterate over all theme files in the directory</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">dolist</span> <span class="p">(</span><span class="nv">file</span> <span class="p">(</span><span class="nf">directory-files</span> <span class="nv">directory</span> <span class="no">nil</span> <span class="nv">suffix</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">theme</span> <span class="p">(</span><span class="nf">intern</span> <span class="p">(</span><span class="nf">substring</span> <span class="nv">file</span> <span class="mi">0</span> <span class="p">(</span><span class="nv">string-match-p</span> <span class="nv">suffix</span> <span class="nv">file</span><span class="p">)))))</span>
</span></span><span class="line"><span class="cl">            <span class="c1">;; Add to the list if it&#39;s valid, and exclude Emacs built-in &#34;default&#34; theme</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nf">eq</span> <span class="nv">theme</span> <span class="ss">&#39;default</span><span class="p">))</span>  <span class="c1">;; Ensure &#34;default&#34; is excluded</span>
</span></span><span class="line"><span class="cl">               <span class="p">(</span><span class="nv">not</span> <span class="p">(</span><span class="nf">memq</span> <span class="nv">theme</span> <span class="nv">themes</span><span class="p">))</span>  <span class="c1">;; Avoid duplicates</span>
</span></span><span class="line"><span class="cl">               <span class="p">(</span><span class="nb">push</span> <span class="nv">theme</span> <span class="nv">themes</span><span class="p">)))))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">nreverse</span> <span class="nv">themes</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">defcustom</span> <span class="nv">fz-themes</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;List of themes (symbols or regexps) to be presented for selection.
</span></span></span><span class="line"><span class="cl"><span class="s">nil shows all </span><span class="ss">`custom-available-themes&#39;</span><span class="s">.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">:type</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">repeat</span> <span class="p">(</span><span class="nv">choice</span> <span class="nv">symbol</span> <span class="nv">regexp</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">defun</span> <span class="nv">fz-theme</span> <span class="p">(</span><span class="nv">theme</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Disable current themes and enable THEME from `fz-themes`.
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">The command supports previewing the currently selected theme.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">interactive</span>
</span></span><span class="line"><span class="cl">     <span class="p">(</span><span class="nf">list</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">let*</span> <span class="p">((</span><span class="nv">regexp</span> <span class="p">(</span><span class="nv">consult--regexp-filter</span>
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="nf">mapcar</span> <span class="p">(</span><span class="nb">lambda</span> <span class="p">(</span><span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nf">stringp</span> <span class="nv">x</span><span class="p">)</span> <span class="nv">x</span> <span class="p">(</span><span class="nf">format</span> <span class="s">&#34;\\</span><span class="ss">`%s\\&#39;</span><span class="s">&#34;</span> <span class="nv">x</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                              <span class="nv">fz-themes</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">             <span class="p">(</span><span class="nv">avail-themes</span> <span class="p">(</span><span class="nv">seq-filter</span>
</span></span><span class="line"><span class="cl">                            <span class="p">(</span><span class="nb">lambda</span> <span class="p">(</span><span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nv">string-match-p</span> <span class="nv">regexp</span> <span class="p">(</span><span class="nf">symbol-name</span> <span class="nv">x</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                            <span class="p">(</span><span class="nv">custom-jp-themes</span><span class="p">)))</span>  <span class="c1">;; Only use themes from custom-jp-themes</span>
</span></span><span class="line"><span class="cl">             <span class="p">(</span><span class="nv">saved-theme</span> <span class="p">(</span><span class="nf">car</span> <span class="nv">custom-enabled-themes</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nv">consult--read</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nf">mapcar</span> <span class="nf">#&#39;symbol-name</span> <span class="nv">avail-themes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="nb">:prompt</span> <span class="s">&#34;Theme: &#34;</span>
</span></span><span class="line"><span class="cl">         <span class="nb">:require-match</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">         <span class="nb">:category</span> <span class="ss">&#39;theme</span>
</span></span><span class="line"><span class="cl">         <span class="nb">:history</span> <span class="ss">&#39;consult--theme-history</span>
</span></span><span class="line"><span class="cl">         <span class="nb">:lookup</span> <span class="p">(</span><span class="nb">lambda</span> <span class="p">(</span><span class="nv">selected</span> <span class="kp">&amp;rest</span> <span class="nv">_</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                   <span class="p">(</span><span class="nb">setq</span> <span class="nv">selected</span> <span class="p">(</span><span class="nb">and</span> <span class="nv">selected</span> <span class="p">(</span><span class="nf">intern-soft</span> <span class="nv">selected</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                   <span class="p">(</span><span class="nb">or</span> <span class="p">(</span><span class="nb">and</span> <span class="nv">selected</span> <span class="p">(</span><span class="nf">car</span> <span class="p">(</span><span class="nf">memq</span> <span class="nv">selected</span> <span class="nv">avail-themes</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                      <span class="nv">saved-theme</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="nb">:state</span> <span class="p">(</span><span class="nb">lambda</span> <span class="p">(</span><span class="nv">action</span> <span class="nv">theme</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                  <span class="p">(</span><span class="nb">pcase</span> <span class="nv">action</span>
</span></span><span class="line"><span class="cl">                    <span class="p">(</span><span class="ss">&#39;return</span> <span class="p">(</span><span class="nv">fz-theme</span> <span class="p">(</span><span class="nb">or</span> <span class="nv">theme</span> <span class="nv">saved-theme</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">                    <span class="p">((</span><span class="nb">and</span> <span class="ss">&#39;preview</span> <span class="p">(</span><span class="nv">guard</span> <span class="nv">theme</span><span class="p">))</span> <span class="p">(</span><span class="nv">fz-theme</span> <span class="nv">theme</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">         <span class="nb">:default</span> <span class="p">(</span><span class="nf">symbol-name</span> <span class="p">(</span><span class="nb">or</span> <span class="nv">saved-theme</span> <span class="ss">&#39;default</span><span class="p">))))))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nf">eq</span> <span class="nv">theme</span> <span class="ss">&#39;default</span><span class="p">)</span> <span class="p">(</span><span class="nb">setq</span> <span class="nv">theme</span> <span class="no">nil</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nf">eq</span> <span class="nv">theme</span> <span class="p">(</span><span class="nf">car</span> <span class="nv">custom-enabled-themes</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">mapc</span> <span class="nf">#&#39;</span><span class="nv">disable-theme</span> <span class="nv">custom-enabled-themes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">when</span> <span class="nv">theme</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">if</span> <span class="p">(</span><span class="nv">custom-theme-p</span> <span class="nv">theme</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">(</span><span class="nv">enable-theme</span> <span class="nv">theme</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">load-theme</span> <span class="nv">theme</span> <span class="nb">:no-confirm</span><span class="p">)))))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="custom-functions-dot">Custom functions.</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="c1">;; Open files in the lisp folder</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">require</span> <span class="ss">&#39;find-lisp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">open-lisp-and-org-files</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Open a Lisp or Org file from ~/.emacs.d/lisp directory, including subfolders.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let*</span> <span class="p">((</span><span class="nv">directory</span> <span class="s">&#34;~/.emacs.d/lisp&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nv">el-files</span> <span class="p">(</span><span class="nv">find-lisp-find-files</span> <span class="nv">directory</span> <span class="s">&#34;.*\\.el$&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nv">org-files</span> <span class="p">(</span><span class="nv">find-lisp-find-files</span> <span class="nv">directory</span> <span class="s">&#34;.*\\.org$&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nv">all-files</span> <span class="p">(</span><span class="nf">append</span> <span class="nv">el-files</span> <span class="nv">org-files</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nv">file</span> <span class="p">(</span><span class="nf">completing-read</span> <span class="s">&#34;Select file: &#34;</span> <span class="nv">all-files</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">find-file</span> <span class="nv">file</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Follow urls in the buffer</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">list-and-open-url-in-buffer</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;List all URLs in the current buffer, display them in the minibuffer, and open a selected URL in the browser.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">(</span><span class="nv">urls</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">save-excursion</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-min</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">while</span> <span class="p">(</span><span class="nf">re-search-forward</span> <span class="s">&#34;\\(http\\|https\\|ftp\\|file\\|mailto\\):[^ \t\n]+&#34;</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">push</span> <span class="p">(</span><span class="nv">match-string</span> <span class="mi">0</span><span class="p">)</span> <span class="nv">urls</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">if</span> <span class="nv">urls</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">url</span> <span class="p">(</span><span class="nf">completing-read</span> <span class="s">&#34;Select URL to open: &#34;</span> <span class="p">(</span><span class="nf">reverse</span> <span class="nv">urls</span><span class="p">)</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="nv">browse-url</span> <span class="nv">url</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;No URLs found in the buffer.&#34;</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Export org files to pdf using tectonic</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">org-export-to-latex-and-compile-with-tectonic</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Export the current Org file to LaTeX, then compile with tectonic using shell-escape.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let*</span> <span class="p">((</span><span class="nv">org-file</span> <span class="p">(</span><span class="nf">buffer-file-name</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nv">tex-file</span> <span class="p">(</span><span class="nf">concat</span> <span class="p">(</span><span class="nv">file-name-sans-extension</span> <span class="nv">org-file</span><span class="p">)</span> <span class="s">&#34;.tex&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nv">tectonic-command</span> <span class="p">(</span><span class="nf">concat</span> <span class="s">&#34;tectonic -Z shell-escape &#34;</span> <span class="nv">tex-file</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="c1">;; Export Org file to LaTeX</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">org-latex-export-to-latex</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">;; Run tectonic command in a temporary buffer to avoid displaying the output</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">with-temp-buffer</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nv">shell-command</span> <span class="nv">tectonic-command</span> <span class="p">(</span><span class="nf">current-buffer</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;Compiled %s to PDF with Tectonic.&#34;</span> <span class="nv">tex-file</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;C-c e l&#34;</span><span class="p">)</span> <span class="ss">&#39;org-export-to-latex-and-compile-with-tectonic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Update my web-page</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">publish-my-blog</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Export all subtrees with Hugo, then run the publish blog script within Emacs and display a success message in the minibuffer.&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">commit-msg</span> <span class="p">(</span><span class="nf">read-string</span> <span class="s">&#34;Enter commit message: &#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="c1">;; Export all subtrees with Hugo</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nv">org-hugo-export-wim-to-md</span> <span class="nb">:all-subtrees</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">;; Run the publish script</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">let</span> <span class="p">((</span><span class="nv">process</span> <span class="p">(</span><span class="nv">start-process-shell-command</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#34;publish-blog&#34;</span>                       <span class="c1">; Process name</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#34;*publish-blog-output*&#34;</span>              <span class="c1">; Output buffer</span>
</span></span><span class="line"><span class="cl">                    <span class="p">(</span><span class="nf">format</span> <span class="s">&#34;~/webdev/jpachecoxyz.github.io/hugo/publish.sh \&#34;%s\&#34;&#34;</span> <span class="nv">commit-msg</span><span class="p">))))</span>  <span class="c1">; Run the script with the commit message</span>
</span></span><span class="line"><span class="cl">      <span class="c1">;; Set up the process sentinel to check the process status</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nf">set-process-sentinel</span>
</span></span><span class="line"><span class="cl">       <span class="nv">process</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">lambda</span> <span class="p">(</span><span class="nv">process</span> <span class="nv">event</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">string=</span> <span class="nv">event</span> <span class="s">&#34;finished\n&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nf">message</span> <span class="s">&#34;jpacheco.xyz was correctly updated!&#34;</span><span class="p">)))))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;C-c u b&#34;</span><span class="p">)</span> <span class="ss">&#39;publish-my-blog</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; Search roam</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">jp/search-roam</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;Run consult-ripgrep on the org roam directory&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">consult-ripgrep</span> <span class="nv">org-roam-directory</span> <span class="no">nil</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;C-c n s&#34;</span><span class="p">)</span> <span class="ss">&#39;jp/search-roam</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">defun</span> <span class="nv">jp/yt-shorts-timer</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">org-timer-set-timer</span> <span class="s">&#34;55s&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;&lt;f4&gt;&#34;</span><span class="p">)</span> <span class="ss">&#39;jp/yt-shorts-timer</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="linux">Linux</h2>
<h2 id="python">Python</h2>
<h3 id="avoid-ssl-verification-when-installing-packages-through-pip-dot">Avoid SSL verification when installing packages through pip.</h3>
<p>I have some issues with the firewall in one of my jobs, so in order to be able to install python packages through pip we need to skip the <code>SSL</code> verification with the following flags.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">pip install --no-cache-dir --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org &lt;program&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="robots">Robots</h2>
<h2 id="windows">Windows</h2>
<h3 id="change-ip-address-within-terminal-dot">Change IP address within terminal.</h3>
<p>This cmd script prompt for an IP to b changed in the computer. Must run as root/administrator.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bat" data-lang="bat"><span class="line"><span class="cl"><span class="p">@</span><span class="k">echo</span> off
</span></span><span class="line"><span class="cl"><span class="k">setlocal</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">rem Prompt the user for new IP address</span>
</span></span><span class="line"><span class="cl"><span class="k">set</span> <span class="k">/p</span> <span class="nv">newIP</span><span class="p">=</span><span class="s2">&#34;Enter the new IP address: &#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">set</span> <span class="s2">&#34;newSubnetMask=255.255.255.0&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">rem Set the new IP address while keeping existing subnet mask and gateway</span>
</span></span><span class="line"><span class="cl">netsh interface ipv4 set address name=<span class="s2">&#34;Ethernet&#34;</span> static <span class="nv">%newIP%</span> <span class="nv">%newSubnetMask%</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">rem Display the new IP configuration</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nv">%errorlevel%</span> <span class="ow">equ</span> 0 <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="k">echo</span> IP address changed successfully.
</span></span><span class="line"><span class="cl"><span class="p">)</span> <span class="k">else</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="k">echo</span> Failed to change IP address. Please make sure you have administrative privileges.
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">endlocal</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
    </article>
  </main>
  

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css"
    integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js"
    integrity="sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp"
    crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js"
    integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl"
    crossorigin="anonymous"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body, {
            
            
            delimiters: [
                { left: '$$', right: '$$', display: true },
                { left: '$', right: '$', display: false },
                { left: '\\(', right: '\\)', display: false },
                { left: '\\[', right: '\\]', display: true }
            ],
            
            throwOnError: false
        });
    });
</script>





<script 
  src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"
  crossorigin="anonymous">
</script>
<script>
  mermaid.init(undefined, 'code.language-mermaid')
</script>




</div>


  <footer class="mt-8 mb-8">
  <div class="container mx-auto">
    <div class="mt-8 flex flex-col-reverse sm:flex-row sm:justify-between items-center">
      <div class="text-center sm:text-left">
        <p class="mt-0 text-sm">Made in emacs for (λ jpachecoxyz)</p>
        <p class="mt-0 text-xs">
          Built with <a href="https://gohugo.io" target="_blank" rel="noopener noreferrer">Hugo</a> v0.143.1
          and <a href="https://github.com/mivinci/hugo-theme-minima" target="_blank" rel="noopener noreferrer">Minima</a>
        </p>
      </div>
      
      <p class="flex items-center mt-0">
        
          <a class="icon ml-1 mr-1" href="mailto:jpacheco@cock.li" title="email">
          
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><path d="M22 6l-10 7L2 6"/></svg>
          
          </a>
        
          <a class="icon ml-1 mr-1" href="https://github.com/jpachecoxyz" title="github">
          
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
          
          </a>
        
          <a class="icon ml-1 mr-1" href="/index.xml" title="rss">
          
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg>
          
          </a>
        
      </p>
    </div>
  </div>
</footer>
</body>

</html>